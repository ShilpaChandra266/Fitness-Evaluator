<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

   <!--  <link rel="shortcut icon" href="img/favicon_1.ico"> -->

    <title>Fitness Evaluator</title>

    <!-- Google-Fonts -->
    <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:100,300,400,600,700,900,400italic' rel='stylesheet'>


    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/bootstrap-reset.css" rel="stylesheet">

    <!--Animation css-->
    <link href="css/animate.css" rel="stylesheet">

    <!-- sweet alerts -->
    <link href="assets/sweet-alert/sweet-alert.min.css" rel="stylesheet">

    <!--Icon-fonts css-->
    <link href="assets/font-awesome/css/font-awesome.css" rel="stylesheet" />
    <link href="assets/ionicon/css/ionicons.min.css" rel="stylesheet" />

    <!-- Custom styles for this template -->
    <link href="css/style.css" rel="stylesheet">
    <link href="css/helper.css" rel="stylesheet">
    <link href="css/style-responsive.css" rel="stylesheet" />

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 tooltipss and media queries -->

    <script src="https://code.angularjs.org/1.5.7/angular.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.7/angular-route.js"></script>

    <link href="../bower_components/angular-xeditable/dist/css/xeditable.css" rel="stylesheet">
    <script src="../bower_components/angular-xeditable/dist/js/xeditable.js"></script>

    <script src="js/ngApp.js"></script>



</head>


<body ng-app="SmartHealthTracker" ng-controller="ProfileController" ng-init="getFood()">

<div>
        <!-- Aside Ends-->
        <div class="logo" style="background-color: #ADD8E6; width: 14%;float: left">
                <a href="/" class="logo-expanded">
                    <img src="img/man.gif" alt="logo" style="margin-left: 45px; width: 80px; "></br>
                    <span class="nav-label" style="font-size: 18px; margin-left: 6px;">Fitness Evaluator</span>
                </a>
            </div>

        <!--Main Content Start -->
        <section class="content" style="width: 86%;">

            <!-- Header -->
            <header class="top-head container-fluid" style="background-color: #7FFFD4;height: 70px">

                <ul class="list-inline navbar-left top-menu top-right-menu">
                    <li class="has-submenu active"><a href="/"><i></i> <span class="nav-label">Dashboard</span></a>
                       <!--  <ul class="list-unstyled"> -->
                            <li class="has-submenu active"><a href="calories">Calories</a></li>
                            <li><a href="sleep">Sleeping Patterns</a></li>
                            <li><a href="activities">Activity</a></li>
                            <li><a href="heart">Heart</a></li>
                            <li><a href="food">Food</a></li>
                       <!--  </ul> -->
                    </li>
                </ul>


                <!-- Right navbar -->
                <ul class="list-inline navbar-right top-menu top-right-menu">
                    <!-- Notification -->
                    <li class="dropdown">
                        <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                            <i class="fa fa-bell-o"></i>
                            <span class="badge badge-sm up bg-pink count">3</span>
                        </a>
                        <ul class="dropdown-menu extended fadeInUp animated nicescroll" tabindex="5002">
                            <li class="noti-header">
                                <p>Notifications</p>
                            </li>
                            <li>
                                <a href="#">
                                    <span class="pull-left"><i class="fa fa-user-plus fa-2x text-info"></i></span>
                                    <span>New user registered<br><small class="text-muted">5 minutes ago</small></span>
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    <span class="pull-left"><i class="fa fa-diamond fa-2x text-primary"></i></span>
                                    <span>Use animate.css<br><small class="text-muted">5 minutes ago</small></span>
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    <span class="pull-left"><i class="fa fa-bell-o fa-2x text-danger"></i></span>
                                    <span>Send project demo files to client<br><small class="text-muted">1 hour ago</small></span>
                                </a>
                            </li>

                            <li>
                                <p><a href="#" class="text-right">See all notifications</a></p>
                            </li>
                        </ul>
                    </li>
                    <!-- /Notification -->

                    <!-- user login dropdown start-->
                    <li class="dropdown text-center">
                        <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                            <img alt="" src="img/avatar-2.jpg" class="img-circle profile-img thumb-sm">
                            <span class="username"><%-name%> </span> <span class="caret"></span>
                        </a>
                        <ul class="dropdown-menu extended pro-menu fadeInUp animated" tabindex="5003" style="overflow: hidden; outline: none;">
                            <li><a href="profile"><i class="fa fa-briefcase"></i>Profile</a></li>
                            <li><a href="emergencyContacts"><i class="fa fa-bell"></i> Emergency Contacts</a></li>
                            <li><a href="logout"><i class="fa fa-sign-out"></i> Log Out</a></li>
                        </ul>
                    </li>
                    <!-- user login dropdown end -->
                </ul>
                <!-- End right navbar -->
            </header>
            <!-- Header Ends -->
</section>
</div>

    <!-- Page Content Start -->
    <!-- ================== -->
    <div class="wraper container-fluid" style="color: grey">
        <div class="page-title">
            <h3 class="title">Food Consumed</h3>
        </div>


        <!--<div class="row">-->
            <!--<div class="col-md-12">-->
                <div class="panel panel-default" style="color: black">
                    <div class="panel-heading">
                        <h3 class="panel-title">Food Consumed</h3>
                    </div>
                    <div class="panel-body">
                        <div class="row">
                            <!--<div class="col-md-12 col-sm-12 col-xs-12">-->
                                <button class="btn btn-success" style="width: 100px;height: 35px; float: right" id = "addFood">Add food</button>
                                <table id="foodTable" class="table table-striped table-bordered">
                                    <thead>
                                    <tr>
                                        <th>Food Name</th>
                                        <th>Time Consumed</th>
                                        <th>Amount</th>
                                        <th>Calories</th>
                                        <th>Fat</th>
                                        <th>Fiber</th>
                                        <th>Carbs</th>
                                        <th>Sodium</th>
                                        <th>Protein</th>
                                        <th>Date</th>
                                    </tr>
                                    </thead>


                                    <tbody>
                                    <tr ng-repeat="food in foods">
                                        <td>{{food.food_name}}</td>
                                        <td>{{food.time_consumed}}</td>
                                        <td>{{food.amount}}</td>
                                        <td>{{food.calories}}</td>
                                        <td>{{food.fat}}</td>
                                        <td>{{food.fiber}}</td>
                                        <td>{{food.carbs}}</td>
                                        <td>{{food.sodium}}</td>
                                        <td>{{food.protein}}</td>
                                        <td>{{food.date}}</td>
                                    </tr>
                                    <tr>
                                        <td><input type="text" ng-model="foodName" id="foodName" name="foodName"></td>
                                        <td><input type="text" ng-model="time" id="time" name="time"></td>
                                        <td><input type="text" ng-model="amount" id="amount" name="amount"></td>
                                        <td><input type="text" ng-model="calories" id="calories" name="calories"></td>
                                        <td><input type="text" ng-model="fat" id="fat" name="fat"></td>
                                        <td><input type="text" ng-model="fiber" id="fiber" name="fiber"></td>
                                        <td><input type="text" ng-model="carbs" id="carbs" name="carbs"></td>
                                        <td><input type="text" ng-model="sodium" id="sodium" name="sodium"></td>
                                        <td><input type="text" ng-model="protein" id="protein" name="protein"></td>
                                        <td></td>
                                    </tr>
                                    </tbody>
                                </table>

                            <!--</div>-->
                        <!--</div>-->
                    </div>
                </div>
            </div>

        <div class="panel panel-default">
            <div class="panel-heading">
                <h3 class="panel-title">Log Current Weight</h3>
            </div>
            <div class="panel-body">
                <div class="row">
                    <form class="form-horizontal" name="addFoodForm" id="addFood" ng-submit="logWeight()" method="post">
                        <div class="form-group">
                            <label class="col-md-2 control-label">Weight lb(s)</label>
                            <div class="col-md-10">
                                <input type="number" step="any" ng-model="weightLog" id="weightLog" class="form-control">
                            </div>
                        </div>
                        <button type="submit" class="btn btn-purple">Submit</button>
                    </form>

                </div>
            </div>
        </div>

        <!--</div> &lt;!&ndash; End Row &ndash;&gt;-->



    </div>
    <!-- Page Content Ends -->
    <!-- ================== -->

    <!-- Footer Start -->
    <footer class="footer">
        2017 Â© Fitness Evaluator
    </footer>
    <!-- Footer Ends -->


</section>
<!-- Main Content Ends -->


<!-- js placed at the end of the document so the pages load faster -->
<script src="js/jquery.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/pace.min.js"></script>
<script src="js/modernizr.min.js"></script>
<script src="js/wow.min.js"></script>
<script src="js/jquery.scrollTo.min.js"></script>
<script src="js/jquery.nicescroll.js" type="text/javascript"></script>
<script src="js/Controllers/ProfileController.js"></script>


<script src="js/jquery.app.js"></script>

<script src="assets/datatables/jquery.dataTables.min.js"></script>
<script src="assets/datatables/dataTables.bootstrap.js"></script>



<!--Add data to food table-->
<script type="text/javascript">

    $(document).ready(function() {
        var table = $('#foodTable').DataTable({responsive: true, "scrollX": true, "scrollY": "300px", "paging": true});

        $('#addFood').click( function() {
            console.log("Clicked button");
            var data = table.$('input, select').serialize();
//            $.post( "/addFood", function( data ) {
//               data: data
//            });

            $.ajax({
                url: "/addFood",
                type: "POST",
                dataType: "json",
                data: JSON.stringify({
                  data:data
                }),
                contentType: "application/json",
                cache: false,
                timeout: 5000,
                complete: function() {
                    //called when complete
                    console.log('process complete');
                },

                success: function(data) {
                    console.log(data);
                    console.log('process sucess');
                },

                error: function() {
                    console.log('process error');
                },
            });
//            addFood()
        } );
    } );

</script>


</body>
</html>
